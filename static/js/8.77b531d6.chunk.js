(this["webpackJsonporient-insurance"]=this["webpackJsonporient-insurance"]||[]).push([[8],{186:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(0),n=r.n(a),s=(r(168),r(170)),c=(r(169),r(171)),o=(r(178),r(179));function u(e){var t=e.pageTitle;return n.a.createElement(s.a,{justify:"center"},n.a.createElement(c.a,null,n.a.createElement(o.a.Title,{level:3},t)))}function i(e){var t=e.pageTitle,r=e.children;return n.a.createElement("section",{style:{padding:"2.5em 0 1.5em"}},t&&n.a.createElement(u,{pageTitle:t}),r)}},193:function(e,t,r){},195:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return d}));var a=r(172),n=r.n(a),s=r(173),c=r(197);function o(e){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return{firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,email:e.email,idNumber:e.idNumber,phoneNumber:e.phoneNumber,addressNumber:e.addressNumber,addressCode:e.addressCode,addressTown:e.addressTown}}(t),e.next=3,Object(c.a)({url:"".concat("/admins","/register"),method:"POST",body:r,headers:{Authorization:"Bearer ".concat(t.token)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(n.a.mark((function e(t){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,Object(c.a)({url:"".concat("/admins","/login"),method:"POST",body:{email:r,password:a}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(n.a.mark((function e(t){var r,a,s,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.adminId,a=t.oldPassword,s=t.newPassword,o=t.newPasswordConfirm,e.next=3,Object(c.a)({url:"".concat("/admins","/").concat(r,"/change-password"),method:"PUT",body:{oldPassword:a,newPassword:s,newPasswordConfirm:o}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},197:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r(172),n=r.n(a),s=r(66),c=r(173),o=r(40),u=r(45);function i(e){return console.log("TODO: handle error",e),o.a.dispatch(Object(u.b)(e)),null}var l=Object({NODE_ENV:"production",PUBLIC_URL:"/orient-insurance",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}),d=l.NODE_ENV,m=l.SERVER_URL,p="production"===d?m:"http://localhost:4000/api/v1";function f(e){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(n.a.mark((function e(t){var r,a,c,o,u,l,d,m,f,b,h,E;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,a=t.method,c=t.body,o=t.query,u=t.headers,e.prev=1,l=w(o),d="".concat(p).concat(r,"?").concat(l),e.next=6,fetch(d,{method:a,headers:Object(s.a)({"Content-Type":"application/json"},u),body:JSON.stringify(c)});case 6:return m=e.sent,e.next=9,m.json();case 9:if(f=e.sent,b=f.status,h=f.data,E=f.error,!(m.status>=500)){e.next=15;break}return e.abrupt("return",i("Uh oh, something's not right. Try again later."));case 15:if(!(m.status>=400&&E)){e.next=17;break}return e.abrupt("return",i(E));case 17:return e.abrupt("return",{status:b,data:h,error:E});case 20:e.prev=20,e.t0=e.catch(1),i(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}function w(e){if(!e)return"";var t=[];for(var r in e)if(e.hasOwnProperty(r)&&"function"!==typeof r){var a=e[r];a&&(a=a.toString(),r=encodeURIComponent(r.replace(" ","+")),a=encodeURIComponent(a.replace(" ","+")),t.push("".concat(r,"=").concat(a)))}return t.join("&")}},199:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r(168);var a=r(170),n=(r(169),r(171)),s=(r(178),r(179)),c=r(0),o=r.n(c),u=r(186);function i(e){var t=e.title,r=e.children;return o.a.createElement(u.a,null,o.a.createElement(a.a,{justify:"center"},o.a.createElement(n.a,null,o.a.createElement("img",{src:"orient-logo.png",alt:"Company logo",style:{margin:"0 auto",display:"block",borderRadius:"10%",width:"75px",marginBottom:"1em"}}),o.a.createElement(s.a.Title,{level:3},t))),r)}},201:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));r(169);var a=r(171),n=(r(168),r(170)),s=(r(182),r(183)),c=r(172),o=r.n(c),u=r(66),i=r(173),l=(r(175),r(176)),d=r(180),m=r(0),p=r.n(m),f=r(13),b=r(65),w=r(199),h=(r(187),r(185)),E=(r(181),r(184));function v(){return p.a.createElement(h.a,null,p.a.createElement(n.a,{gutter:16},p.a.createElement(a.a,{span:24},p.a.createElement(l.a.Item,{label:"Old password",name:"oldPassword",rules:[{required:!0,message:"Password is required"}]},p.a.createElement(E.a.Password,null)))),p.a.createElement(n.a,{gutter:16},p.a.createElement(a.a,{span:24},p.a.createElement(l.a.Item,{label:"New password",name:"newPassword",rules:[{required:!0,message:"Password is required"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=^.{8,45}$)/,message:"Password should contain numbers, letters and \n                at least 8 characters"}]},p.a.createElement(E.a.Password,null)))),p.a.createElement(n.a,{gutter:16},p.a.createElement(a.a,{span:24},p.a.createElement(l.a.Item,{label:"Confirm new password",dependencies:["newPassword"],hasFeedback:!0,name:"newPasswordConfirm",rules:[{required:!0,message:"Password is required"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return t("newPassword")===r?Promise.resolve():Promise.reject("Passwords do not match.")}}}]},p.a.createElement(E.a.Password,null)))))}var g=r(195);r(193);function O(e){var t=e.addError,r=Object(f.h)(),c=l.a.useForm(),h=Object(d.a)(c,1)[0],E=Object(m.useState)(!1),O=Object(d.a)(E,2),y=O[0],P=O[1],j=Object(m.useState)(!1),N=Object(d.a)(j,2),T=N[0],x=N[1],C=function(){var e=Object(i.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,h.validateFields();case 4:return a=e.sent,e.next=7,Object(g.a)(Object(u.a)({},null===r||void 0===r?void 0:r.state,{},a));case 7:(n=e.sent)&&n.data?(h.resetFields(),x(!0)):n&&n.error&&t(n.error),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("An error occurred",e.t0);case 14:return e.prev=14,P(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return p.a.createElement(w.a,{title:"Change password"},p.a.createElement(n.a,{justify:"center"},p.a.createElement(a.a,{span:6},T?p.a.createElement("div",null,"Password change successful. Proceed to ",p.a.createElement(b.b,{to:"/login"},"login")):p.a.createElement(l.a,{className:"OForm",form:h},p.a.createElement(v,null),p.a.createElement(n.a,{justify:"space-between"},p.a.createElement(b.b,{to:"/login"},p.a.createElement(s.a,{type:"link"},"Login")),p.a.createElement(s.a,{type:"primary",onClick:C,loading:y},"Submit"))))))}},456:function(e,t,r){"use strict";r.r(t);var a=r(29),n=r(201),s=r(45);t.default=Object(a.b)(null,(function(e){return{addError:function(t){return e(Object(s.b)(t))}}}))(n.a)}}]);
//# sourceMappingURL=8.77b531d6.chunk.js.map